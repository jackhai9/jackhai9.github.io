# Markdown + Hexo + GitHub Actions + GitHub Pages

## é¡¹ç›®è¯´æ˜

- ä»“åº“åçš„æ ¼å¼è¦æ±‚ï¼š`<ä½ çš„GitHubç”¨æˆ·å>.github.io`ï¼Œæˆ‘è¿™é‡Œæ˜¯jackhai9.github.ioï¼Œå°±ä¼šè‡ªåŠ¨å¼€å¯è¿™ä¸ªä»“åº“çš„ Github Pages åŠŸèƒ½ã€‚
- æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼šsourceåˆ†æ”¯ï¼ˆå­˜æ”¾ç¼–è¯‘å‰çš„æºç æ–‡ä»¶ï¼‰ã€masteråˆ†æ”¯ï¼ˆå­˜æ”¾ç¼–è¯‘åçš„é™æ€æ–‡ä»¶ï¼‰ã€‚
- å½“ç„¶ï¼Œä½ å¦‚æœæƒ³ç”¨å…¶ä»–ä»“åº“åæˆ–è€…åˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥ã€‚ç›¸ä¿¡ä½ å¯ä»¥è‡ªå·±è§£å†³ğŸ˜‰
- **[è¿™é‡Œ](https://jackhai9.github.io)å°±æ˜¯é€šè¿‡æ­¤æ–¹å¼åˆ›å»ºçš„åšå®¢ã€‚**

## æ•´ä½“æµç¨‹

1. æ‰‹åŠ¨ -- å…‹éš†ä»“åº“
2. æ‰‹åŠ¨ -- æœ¬åœ°å®‰è£…Hexoå¹¶ç¼–è¯‘/é¢„è§ˆæ•ˆæœ
2. æ‰‹åŠ¨ -- æœ¬åœ°å†™Markdownæ–‡ä»¶å¹¶ç¼–è¯‘/é¢„è§ˆæ•ˆæœ
4. æ‰‹åŠ¨ -- æäº¤Hexoæºæ–‡ä»¶åˆ°GitHubçš„sourceåˆ†æ”¯
5. è‡ªåŠ¨ -- è§¦å‘GitHub Actionsæ‰§è¡Œ[è‡ªå®šä¹‰çš„workflow](https://github.com/jackhai9/jackhai9.github.io/blob/source/.github/workflows/hexo-deploy.yml)æœ€ç»ˆéƒ¨ç½²åˆ°GitHub Pages

## æ¦‚å¿µè¯´æ˜

- [Hexo](https://github.com/hexojs/hexo) ï¼šé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œä¾èµ– [Node.js](https://nodejs.cn/)ã€‚å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ï¼Œå¾ˆé€‚åˆç”¨æ¥æ­å»ºåšå®¢ã€‚
- [GitHub Actions](https://docs.github.com/en/actions)ï¼šGitHub æä¾›çš„ä¸€ç§è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä¼šå»æ‰§è¡Œä½ åˆ›å»ºçš„ workflowã€‚
- [workflow](https://docs.github.com/en/actions/using-workflows/about-workflows)ï¼šå·¥ä½œæµï¼Œå³ æŒ‰å¸Œæœ›çš„é¡ºåºæ’åˆ—ç»„åˆä¸€ç³»åˆ—æŒ‡ä»¤ï¼ˆactionï¼‰ã€‚è¿™äº›æŒ‡ä»¤å¯ä»¥æ˜¯å„ç§ä»»åŠ¡ï¼Œå¦‚å®‰è£…ä¾èµ–ã€æµ‹è¯•ä»£ç ã€éƒ¨ç½²åº”ç”¨ç­‰ã€‚
- [GitHub Pages](https://pages.github.com/)ï¼šGitHub æä¾›çš„ä¸€é¡¹æœåŠ¡ï¼Œå®ƒå…è®¸ä½ ä» GitHub ä»“åº“ç›´æ¥æ‰˜ç®¡é™æ€ç½‘ç«™ã€‚å¸¸ç”¨äºä¸ªäººã€é¡¹ç›®æˆ–ç»„ç»‡çš„ç½‘ç«™ï¼Œå¹¶ä¸”æ˜¯å…è´¹çš„ï¼Œä¸ç”¨å†å•ç‹¬å»ç”³è¯·åŸŸåäº†ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒæŒ‡å‘ä½ å·²ç”³è¯·çš„åŸŸåã€‚å¾ˆé€‚åˆç”¨æ¥æ‰˜ç®¡åšå®¢ã€é¡¹ç›®æ–‡æ¡£ã€ä¸ªäººç®€å†ç­‰å†…å®¹ã€‚GitHub Pages ä¹Ÿé»˜è®¤ä½¿ç”¨ [Jekyll](https://github.com/jekyll/jekyll) è¿™æ ·çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œç›´æ¥æŠŠ Markdown æ–‡ä»¶è½¬æˆ HTMLï¼Œè§[æˆ‘çš„å¦ä¸€ä¸ªåšå®¢](https://github.com/jackhai9/blog)ã€‚æ€»ä¹‹ï¼ŒGitHub Pagesä¸ºç”¨æˆ·æä¾›äº†ä¸€ç§ç®€å•ä¾¿æ·çš„æ–¹å¼ï¼Œç”¨äºå°†ä»£ç å’Œæ–‡æ¡£ä»¥ç½‘é¡µçš„å½¢å¼åˆ†äº«ç»™ä»–äººã€‚

## å…·ä½“æµç¨‹

1. å…‹éš†ä»“åº“

   å…‹éš†å½“å‰ä»“åº“çš„sourceåˆ†æ”¯åˆ°æœ¬åœ°ï¼š`git clone -b source --recurse-submodules git@github.com:jackhai9/jackhai9.github.io.git && cd jackhai9.github.io`

   > è¿™ä¸ªé¡¹ç›®ä¼šä¾èµ–å…¶ä»–çš„gité¡¹ç›®ï¼ˆæˆ‘æ²¡æœ‰ä½¿ç”¨é»˜è®¤çš„ä¸»é¢˜ï¼Œè€Œæ˜¯ä½¿ç”¨äº†åˆ«çš„ä¸»é¢˜ï¼‰ï¼Œæˆ‘åˆæ˜¯[ä»¥å­æ¨¡å—çš„æ–¹å¼æ¥å¼•å…¥çš„å…¶ä»–ä¸»é¢˜](#Hexoçš„é»˜è®¤ä¸»é¢˜æ˜¯hexo-theme-landscapeï¼Œå½“éœ€è¦æ›´æ¢åšå®¢ä¸»é¢˜æ—¶ï¼ˆä»¥æˆ‘æ›´æ¢ä¸ºlightä¸»é¢˜ä¸ºä¾‹ï¼‰ï¼š)ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ `--recurse-submodules`é€‰é¡¹ï¼Œå°†åˆå§‹åŒ–å¹¶æ›´æ–°ä»“åº“ä¸­çš„æ¯ä¸ªå­æ¨¡å—ã€‚

   > å¦‚æœæ²¡æœ‰ä»¥å­æ¨¡å—çš„æ–¹å¼æ¥å¼•å…¥å…¶ä»–gité¡¹ç›®ï¼Œæ¯”å¦‚ä»¥æ™®é€šå­ç›®å½•çš„æ–¹å¼æ¥å¼•å…¥çš„ï¼Œç›´æ¥git cloneå°±å¯ä»¥äº†ã€‚è‡³äºè¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«çœ‹[è¿™é‡Œ]()

   > `git clone -b <åˆ†æ”¯åç§°>` å‘½ä»¤åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥ä¼šè‡ªåŠ¨è®¾ç½®è·Ÿè¸ªåˆ†æ”¯ã€‚å¦‚æœåç»­åœ¨ `git pull`æˆ– `git push`æ—¶æç¤º `There is no tracking information for the current branch.`ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨å°†æœ¬åœ°çš„ source åˆ†æ”¯ä¸è¿œç¨‹çš„ source åˆ†æ”¯å…³è”ï¼šgit branch --set-upstream-to=origin/source source

2. æœ¬åœ°å®‰è£…Hexoå¹¶ç¼–è¯‘/é¢„è§ˆæ•ˆæœ

   1. åœ¨æœ¬åœ°å®‰è£…Hexoï¼ˆä¸ºäº†èƒ½åœ¨æœ¬åœ°é¢„è§ˆï¼Œå»ºè®®å®‰è£…ï¼‰ï¼š`npm install -g hexo-cli`
   2. å®‰è£…é¡¹ç›®ä¾èµ–ï¼š`npm install`
   3. å¯åŠ¨ä¸€ä¸ªæœ¬åœ°çš„webæœåŠ¡å™¨å¹¶é¢„è§ˆæ•ˆæœï¼š`hexo server` ã€ä¼šè¿›è¡Œç¼–è¯‘ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½æ‰‹åŠ¨è¿è¡Œ `hexo generate`è¿›è¡Œç¼–è¯‘äº†ã€‘

4. æœ¬åœ°å†™Markdownæ–‡ä»¶å¹¶ç¼–è¯‘/é¢„è§ˆæ•ˆæœ

   1. åœ¨æœ¬åœ°çš„ jackhai9.github.io/source/_posts ç›®å½•ä¸‹åˆ›å»ºå¹¶ä¹¦å†™MDæ–‡ä»¶ï¼šæ‰‹åŠ¨åˆ›å»º æˆ–è€… ä½¿ç”¨ `$ hexo new [layout] "MDæ–‡ä»¶åç§°"`å‘½ä»¤ç”±Hexoè‡ªåŠ¨åˆ›å»º
   2. å¯åŠ¨webæœåŠ¡å™¨å¹¶é¢„è§ˆæ•ˆæœï¼š`hexo server`ï¼Œç„¶åè®¿é—®localhost:4000é¢„è§ˆæ•ˆæœ
   
4. æäº¤Hexoæºæ–‡ä»¶åˆ°GitHubçš„sourceåˆ†æ”¯

   ä¸€æ—¦å®Œæˆäº†MDæ–‡ç« çš„ç¼–è¾‘æˆ–è€…å…¶ä»–é…ç½®çš„ä¿®æ”¹ï¼Œå¹¶æœ¬åœ°é¢„è§ˆæ²¡é—®é¢˜åï¼Œå°±å¯ä»¥å°†è¿™äº›ä¿®æ”¹æ¨é€åˆ°sourceåˆ†æ”¯ï¼š

   > æ³¨æ„é…ç½® .gitignoreï¼ŒæŠŠ node_modules/ã€public/ ç­‰æ’é™¤

   ```bash
   git add .
   git commit -m "æ·»åŠ æˆ–æ›´æ–°æ–‡ç« /ä¿®æ”¹xxé…ç½®ç­‰"
   git push
   ```

5. è§¦å‘GitHub Actionsæ‰§è¡Œ[è‡ªå®šä¹‰çš„workflow](https://github.com/jackhai9/jackhai9.github.io/blob/source/.github/workflows/hexo-deploy.yml)æœ€ç»ˆéƒ¨ç½²åˆ°GitHub Pages

   å½“æ¨é€æ›´æ”¹åˆ°sourceåˆ†æ”¯åï¼ŒGitHub Actionsä¼šè‡ªåŠ¨æ‰§è¡Œè‡ªå®šä¹‰çš„workflowï¼ˆè¦æ±‚ä»¥YAMLæ–‡ä»¶çš„å½¢å¼æ”¾åœ¨ .github/workflows ä¸‹é¢ï¼‰ï¼Œç®€å•è§£é‡Šä¸‹è‡ªå®šä¹‰çš„workflowï¼š

   1. åˆ‡åˆ°sourceåˆ†æ”¯
   2. å®‰è£…ä¾èµ–(NodeJSã€é¡¹ç›®ä¾èµ–)ã€å®‰è£…Hexo
   3. è¿è¡ŒHexoçš„ç¼–è¯‘æŒ‡ä»¤æŠŠå½“å‰sourceåˆ†æ”¯çš„æºç ç¼–è¯‘æˆé™æ€æ–‡ä»¶è¾“å‡ºåˆ°publicç›®å½•
   4. è¿è¡Œ[actions-gh-pages](https://github.com/peaceiris/actions-gh-pages)æŠŠpublicç›®å½•ä¸­çš„é™æ€æ–‡ä»¶æäº¤åˆ°masteråˆ†æ”¯å¹¶éƒ¨ç½²åˆ° GitHub Pages
   
   > actions-gh-pagesä¼šåˆ›å»ºworkflowâ€œpages-build-deploymentâ€ï¼Œä¼šè¢«GitHub Actionsæ‰§è¡Œï¼Œæœ€ç»ˆæŠŠé™æ€æ–‡ä»¶éƒ¨ç½²åˆ°GitHub Pages
   
   > ä¸¤ä¸ªworkflowéƒ½æœ‰å®Œæ•´çš„[æ‰§è¡Œæ—¥å¿—](https://github.com/jackhai9/jackhai9.github.io/actions)
   >
   > - ç¬¬1ä¸ªæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„workflowçš„[æ‰§è¡Œæ—¥å¿—](https://github.com/jackhai9/jackhai9.github.io/actions/workflows/hexo-deploy.yml)
   >
   > - ç¬¬2ä¸ªæ˜¯actions-gh-pagesåˆ›å»ºçš„workflowçš„[æ‰§è¡Œæ—¥å¿—](https://github.com/jackhai9/jackhai9.github.io/actions/workflows/pages/pages-build-deployment)

## å…¶ä»–

- **ä¸€æ—¦ä¸Šè¿°çš„æµç¨‹åœ¨æœ¬åœ°æ‰§è¡Œè¿‡ä¸€æ¬¡ä¹‹åï¼Œåç»­å†™åšå®¢åªéœ€è¦æ‰§è¡Œ3ã€4å°±å¯ä»¥äº†ã€‚**

- Markdownç¼–è¾‘å™¨ï¼šæ¨èTyporaã€‚

- å¯¹äºGitHub Pagesï¼Œä½ æœ‰ä¸¤ç§å¸¸è§çš„åˆ†æ”¯é€‰é¡¹æ¥å‘å¸ƒä½ çš„ç½‘ç«™ï¼š

  - **`master`æˆ–`main`åˆ†æ”¯**ï¼šå¯¹äºç”¨æˆ·æˆ–ç»„ç»‡çš„ GitHub Pages ç½‘ç«™ï¼ˆå¦‚`<ä½ çš„GitHubç”¨æˆ·å>.github.io`ï¼‰ï¼Œé€šå¸¸ç›´æ¥ä½¿ç”¨`master`æˆ–`main`åˆ†æ”¯æ¥å‘å¸ƒã€‚
  - **`gh-pages`åˆ†æ”¯**ï¼šå¯¹äºé¡¹ç›®ä»“åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨ç‰¹åˆ«çš„`gh-pages`åˆ†æ”¯æ¥æ‰˜ç®¡ GitHub Pages å†…å®¹ã€‚

  GitHubæä¾›äº†é€‰é¡¹æ¥é€‰æ‹©å“ªä¸ªåˆ†æ”¯ç”¨äºGitHub Pagesï¼Œè¿™å¯ä»¥åœ¨ä»“åº“çš„è®¾ç½®ä¸­é…ç½®ã€‚è¿™æ ·ä½ å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©æœ€é€‚åˆçš„åˆ†æ”¯ã€‚

- ä¸ºä»€ä¹ˆåœ¨æœ¬åœ°å®‰è£…Hexoä»ç„¶æ˜¯ä¸ªå¥½ä¸»æ„ï¼Ÿ å°½ç®¡GitHub Actionså¯ä»¥ä»â€œæ‰§è¡ŒHexoçš„å®‰è£…â€ä¸€ç›´åˆ°â€œæœ€ç»ˆéƒ¨ç½²åˆ°GitHub Pagesâ€ï¼Œä½ ä¸ä¸€å®šéœ€è¦åœ¨æœ¬åœ°å®‰è£…Hexoï¼Œä½†æœ¬åœ°å®‰è£…Hexoä»ç„¶æœ‰å‡ ä¸ªå¥½å¤„ï¼š
  
  1. æœ¬åœ°é¢„è§ˆï¼šæœ¬åœ°å®‰è£…Hexoå…è®¸ä½ åœ¨æäº¤å’Œæ¨é€ä¹‹å‰é¢„è§ˆä½ çš„åšå®¢ï¼Œç¡®ä¿ä¸€åˆ‡çœ‹èµ·æ¥éƒ½åƒä½ æœŸæœ›çš„é‚£æ ·ã€‚
  2. æ›´å¿«çš„è¿­ä»£ï¼šåœ¨æœ¬åœ°è¿›è¡Œæ›´æ”¹å’Œé¢„è§ˆå¯ä»¥åŠ å¿«å†™ä½œå’Œç¼–è¾‘çš„è¿‡ç¨‹ï¼Œå› ä¸ºä½ ä¸éœ€è¦ç­‰å¾…CI/CDæµç¨‹å®Œæˆæ¥çœ‹åˆ°æ›´æ”¹ã€‚
  3. æ•…éšœæ’é™¤ï¼šå¦‚æœå‡ºç°æ„å»ºé”™è¯¯æˆ–å…¶ä»–é—®é¢˜ï¼Œæœ¬åœ°å®‰è£…å¯ä»¥å¸®åŠ©ä½ æ›´å¿«åœ°è¯Šæ–­å’Œè§£å†³è¿™äº›é—®é¢˜ï¼Œå¦åˆ™éœ€è¦ç­‰åˆ°å‘å¸ƒæ—¶æˆ–å‘å¸ƒåæ‰çŸ¥é“æœ‰é—®é¢˜ã€‚
  
- Hexoçš„é»˜è®¤ä¸»é¢˜æ˜¯hexo-theme-landscapeï¼Œå½“éœ€è¦æ›´æ¢åšå®¢ä¸»é¢˜æ—¶ï¼ˆä»¥æˆ‘æ›´æ¢ä¸ºlightä¸»é¢˜ä¸ºä¾‹ï¼‰ï¼š
  
  1. åœ¨GitHubä¸Šæ‰¾åˆ°å–œæ¬¢çš„Hexoä¸»é¢˜åï¼Œå»ºè®®forkåˆ°è‡ªå·±ä»“åº“ï¼Œä¾¿äºè¿›è¡Œå®šåˆ¶åŒ–ä¿®æ”¹ï¼Œæ¯”å¦‚æˆ‘æ‰€ç”¨çš„[ä¸»é¢˜](https://github.com/jackhai9/hexo-theme-light)ï¼›
  
  2. æˆ‘è¿™é‡Œä»¥å­æ¨¡å—çš„æ–¹å¼æ·»åŠ åˆ°themesç›®å½•ä¸‹ï¼š`git submodule add git@github.com:jackhai9/hexo-theme-light.git themes/light`
  
     > å½“ç„¶ä¹Ÿå¯ä»¥ä»¥æ™®é€šå­ç›®å½•çš„æ–¹å¼æ·»åŠ è¿›æ¥ï¼Œç›´æ¥git cloneåˆ°themesç›®å½•ä¸‹å°±å¯ä»¥äº†ã€‚è‡³äºè¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«çœ‹è¿™é‡Œ
  
  3. ä¿®æ”¹_config.ymlä¸­çš„theme: light
  
  4. æäº¤ä¿®æ”¹ï¼š`git add .` ç„¶å `git commit -m "æ–°å¢ä¸»é¢˜xxx"`ç„¶å `git push`
  
  5. å¦‚æœä½ å¯¹å­æ¨¡å—è¿›è¡Œäº†å®šåˆ¶åŒ–ä¿®æ”¹ï¼Œåˆ™éœ€è¦
     1. cdåˆ°å­æ¨¡å—ç›®å½•(æ¯”å¦‚themes/lightç›®å½•)ï¼Œæäº¤ä¿®æ”¹åˆ°å­æ¨¡å—çš„è¿œç¨‹ä»“åº“ï¼›
     2. å†cdå›ä¸»é¡¹ç›®ç›®å½•(æ¯”å¦‚jackhai9.github.ioç›®å½•)ï¼Œå†æäº¤ä¿®æ”¹åˆ°ä¸»é¡¹ç›®çš„è¿œç¨‹ä»“åº“ï¼›
  
- é€šè¿‡SSHä¸GitHubè¿›è¡Œå…å¯†äº¤äº’ï¼Œæ— éœ€æ¯æ¬¡è®¿é—®éƒ½ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ï¼Œè®¾ç½®æ–¹å¼ï¼š
  
  [æ£€æŸ¥æœ¬åœ°ç°æœ‰çš„SSHå¯†é’¥](https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/checking-for-existing-ssh-keys)ã€[ç”Ÿæˆæœ¬åœ°æ–°çš„SSHå¯†é’¥](https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)ã€[æ·»åŠ æœ¬åœ°SSHå¯†é’¥åˆ°GitHubè´¦æˆ·](https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account)ã€‚



